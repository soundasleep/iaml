% param1: the frame caption
% param2: the image width
% param3: the image source
% param4: the image caption
% param5: the reference label
\newcommand{\framedimage}[5]{
  \renewcommand\arraystretch{0.9}
  \renewcommand\tabcolsep{2pt}
  \centering
  \begin{tabular}{@{}lllr@{}}
    
  & \multirow{2}{*}{\color{gray}\sffamily{#1}} & & \\
  \arrayrulecolor{gray}
  \cline{1-1} \cline{3-4}
  \arrayrulecolor{gray}
  {\color{gray}\vline} & \vspace{-6pt} & & {\color{gray}\vline} \\
  \arrayrulecolor{gray}
  {\color{gray}\vline} & \multicolumn{2}{c}{\includegraphics[width={#2}]{#3}} & {\color{gray}\vline} \\
    
  \hline
  \end{tabular}
  \caption{#4}
  \label{#5}
}

% a single image, without a caption or label
% param1: the frame caption
% param2: the image width
% param3: the image source
\newcommand{\framedimagesingle}[3]{
  \centering
  \begin{tabular}{@{}lllr@{}}
    
  & \multirow{2}{*}{\color{gray}\sffamily{#1}} & & \\
  \arrayrulecolor{gray}
  \cline{1-1} \cline{3-4}
  \arrayrulecolor{gray}
  {\color{gray}\vline} & \vspace{-6pt} & & {\color{gray}\vline} \\
  \arrayrulecolor{gray}
  {\color{gray}\vline} & \multicolumn{2}{c}{\includegraphics[width={#2}]{#3}} & {\color{gray}\vline} \\
    
  \hline
  \end{tabular}
}
