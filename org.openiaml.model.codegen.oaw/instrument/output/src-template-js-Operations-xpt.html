<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Coverage: Operations.xpt</title>
	<link rel="stylesheet" type="text/css" href="default.css" />
</head>
<body>

<h1>Operations.xpt</h1>

<a href="index.html">Summary</a>

<ul id="legend">
	<li class="none">Never executed</li>
	<li class="oaw">Generated output</li>
	<li class="php">Executed on server (PHP)</li>
	<li class="js">Executed on client (Javascript)</li>
</ul>

<p><pre>/**
 * Client-side operations.
 */
«IMPORT iaml»

/* expand EventTriggers when they are attached to a child. */
/* perhaps a better way of doing this would be to create a secondary model (using model extensions)
   which is then used to generate the application more straightforward. */
/* or even iaml --&gt; [phpModel] --&gt; phpOutput, although this reduces little complexity */
«EXTENSION template::GeneratorExtensions»

/* we are in an input element, and we have to register event handlers */
/* the event handlers are not actually defined here - they have to be defined elsewhere in the page */
<span class="oaw php js " title="972 steps in OAW 384 steps in PHP 30 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 14:DEFINE expandEventTriggers(String type) FOR model::EventTrigger)"><a name="expandEventTriggers.html">«DEFINE expandEventTriggers(String type) FOR model::EventTrigger»</a>
	<span class="oaw php " title="324 steps in OAW 128 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 15:IF name==type)">«IF name==type»
		«REM»the Page call worries about which ones to place where«ENDREM»
		<a href="#callOperations.html">«EXPAND callOperations(false) FOREACH outEdges»</a>
	«ENDIF»</span>
«ENDDEFINE»</span>

/* implicit triggers for a button: navigate, run instance wires */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 22:DEFINE expandImplicitEventTriggersButton FOR model::WireEdge)"><a name="expandImplicitEventTriggersButton.html">«DEFINE expandImplicitEventTriggersButton FOR model::WireEdge»</a>
«ENDDEFINE»</span>

<span class="oaw " title="3 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 25:DEFINE expandImplicitEventTriggersButton FOR model::wires::NavigateWire)"><a name="expandImplicitEventTriggersButton.html">«DEFINE expandImplicitEventTriggersButton FOR model::wires::NavigateWire»</a>
	<span class="oaw " title="3 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 26:IF (name == "click" || name == "onClick"))">«IF (name == "click" || name == "onClick")»
		/* expanding implicit trigger (navigate) */
		<a href="#callOperations.html">«EXPAND callOperations(false) FOR this»</a>
	«ENDIF»</span> 
«ENDDEFINE»</span>
<span class="oaw " title="10 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 31:DEFINE expandImplicitEventTriggersButton FOR model::wires::RunInstanceWire)"><a name="expandImplicitEventTriggersButton.html">«DEFINE expandImplicitEventTriggersButton FOR model::wires::RunInstanceWire»</a>
	<span class="oaw " title="10 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 32:IF (name == "click" || name == "onClick"))">«IF (name == "click" || name == "onClick")»
		/* expanding implicit trigger (run) */
		<a href="#callOperations.html">«EXPAND callOperations(false) FOR this»</a>
	«ENDIF»</span> 
«ENDDEFINE»</span>

/* if we are expanding inline a function already */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 39:DEFINE expandEventTriggersInline FOR emf::EObject)"><a name="expandEventTriggersInline.html">«DEFINE expandEventTriggersInline FOR emf::EObject»</a>
	// cannot expand for non-event object
«ENDDEFINE»</span>

<span class="oaw php js " title="308 steps in OAW 128 steps in PHP 16 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 43:DEFINE expandEventTriggersInline FOR model::ContainsEventTriggers)"><a name="expandEventTriggersInline.html">«DEFINE expandEventTriggersInline FOR model::ContainsEventTriggers»</a>
	<a href="#expandEventTriggersInline.html">«EXPAND expandEventTriggersInline FOREACH eventTriggers»</a>
«ENDDEFINE»</span>

<span class="oaw php js " title="616 steps in OAW 256 steps in PHP 32 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 47:DEFINE expandEventTriggersInline FOR model::EventTrigger)"><a name="expandEventTriggersInline.html">«DEFINE expandEventTriggersInline FOR model::EventTrigger»</a>
	// expanding inline event trigger «name»
	<span class="oaw php js " title="308 steps in OAW 128 steps in PHP 16 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 49:IF name=="edit")">«IF name=="edit"»
		<a href="#callOperations.html">«EXPAND callOperations(true) FOREACH outEdges»</a>
	</span><span class="oaw php js " title="308 steps in OAW 128 steps in PHP 16 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 51:ELSEIF name=="access")"></span><span class="oaw php js " title="308 steps in OAW 128 steps in PHP 16 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 51:ELSEIF name=="access")">«ELSEIF name=="access"»
		// we don't expand 'access' events inline
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 53:ELSE)">«ELSE»
		<a href="#exception.html">«EXPAND exception FOR throwException("Unknown client-side event trigger: " + this)»</a>
	«ENDIF»</span>
«ENDDEFINE»</span>

/* default: don't know what to do with a wire */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 59:DEFINE callOperations(Boolean inline) FOR model::WireEdge)"><a name="callOperations.html">«DEFINE callOperations(Boolean inline) FOR model::WireEdge»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unknown wire edge connected to edit trigger: " + this)»</a>
«ENDDEFINE»</span>

/* 
 * run a command with some parameters. this could be in inline JS or a JS block.
 * RunInstanceWire: event --&gt; operation 
 */
<span class="oaw php js " title="516 steps in OAW 316 steps in PHP 36 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 67:DEFINE callOperations(Boolean inline) FOR model::wires::RunInstanceWire-)"><a name="callOperations.html">«DEFINE callOperations(Boolean inline) FOR model::wires::RunInstanceWire-»</a>
	/* eContainer == «to.eContainer» */
	
	<span class="oaw php " title="36 steps in OAW 12 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 70:IF inEdges.typeSelect(model::wires::ConditionWire).size != 0)">«IF inEdges.typeSelect(model::wires::ConditionWire).size != 0»
		/* expand conditions */
		if (<a href="src-template-js-Conditions-xpt.html#conditionWires.html">«EXPAND Conditions::conditionWires(this, inline) FOREACH inEdges.typeSelect(model::wires::ConditionWire) SEPARATOR " &amp;&amp; "»</a>) {
	«ENDIF»</span>

	<span class="oaw php js " title="259 steps in OAW 202 steps in PHP 36 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 75:IF to.eContainer.metaType.superTypes.contains( model::VisibleThing )-)">«IF to.eContainer.metaType.superTypes.contains( model::VisibleThing )-»
		«REM»VisibleThing includes InputTextField and Page«ENDREM»
		«REM»
			is both source and target on the same page? NOTE this
			will also return true for Event--&gt;Operation if they are
			both on the same page.
		«ENDREM»
		<span class="oaw php js " title="169 steps in OAW 127 steps in PHP 36 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 82:IF onCurrentPage(from, to)-)">«IF onCurrentPage(from, to)-»
			«REM»// on current page (wire id = «id»)«ENDREM»
			do_«operationName(to)»(<a href="#callOperationParameters.html">«EXPAND callOperationParameters(this, inline) FOREACH inEdges.typeSelect(model::wires::ParameterWire) SEPARATOR ", "»</a>);
		</span><span class="oaw php " title="90 steps in OAW 75 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 85:ELSE-)">«ELSE-»
			«REM»// not on current page (wire id = «id»)«ENDREM»
			call_remote_event('«safeNameString(containingPage(to).id)»', '«operationName(to)-»'
				<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 88:IF inEdges.size&gt;0)">«IF inEdges.size&gt;0», <a href="#callOperationParameters.html">«EXPAND callOperationParameters(this, inline) FOREACH inEdges.typeSelect(model::wires::ParameterWire) SEPARATOR ", "»</a>«ENDIF»</span>
			);
			«REM»				
			store_event('«containingPage(to).id»', 'do_«operationName(to)»'
			«ENDREM»
		«ENDIF-»</span>
	</span><span class="oaw php " title="165 steps in OAW 114 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 94:ELSEIF isDomainAttribute(to.eContainer)-)"></span><span class="oaw php " title="165 steps in OAW 114 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 94:ELSEIF isDomainAttribute(to.eContainer)-)">«ELSEIF isDomainAttribute(to.eContainer)-»
		«REM»direct field --&gt; domain attribute«ENDREM»
		store_db('«safeNameString(((model::DomainAttribute) to.eContainer).id)»'
			<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 97:IF inEdges.size&gt;0)">«IF inEdges.size&gt;0», <a href="#callOperationParameters.html">«EXPAND callOperationParameters(this, inline) FOREACH inEdges.typeSelect(model::wires::ParameterWire) SEPARATOR ", "»</a>«ENDIF»</span>
		); 
	</span><span class="oaw " title="90 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 99:ELSEIF isDomainAttributeInstance(to.eContainer)-)"></span><span class="oaw " title="90 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 99:ELSEIF isDomainAttributeInstance(to.eContainer)-)">«ELSEIF isDomainAttributeInstance(to.eContainer)-»
		«REM»direct field --&gt; domain attribute instance«ENDREM»
		<a href="#operationDomainAttributeInstance.html">«EXPAND operationDomainAttributeInstance(inline, this, (model::DomainAttributeInstance) to.eContainer) FOR to»</a>
	</span><span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 102:ELSEIF isDomainObjectInstance(to.eContainer)-)"></span><span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 102:ELSEIF isDomainObjectInstance(to.eContainer)-)">«ELSEIF isDomainObjectInstance(to.eContainer)-»
		«REM»direct field --&gt; domain object instance«ENDREM»
		<a href="#operationDomainObjectInstance.html">«EXPAND operationDomainObjectInstance(inline, this, (model::DomainObjectInstance) to.eContainer) FOR to»</a>
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 105:ELSE-)">«ELSE-»
		alert('unknown target operation type in «to.eContainer.metaType.name»');
		<a href="#exception.html">«EXPAND exception FOR throwException("Unknown target operation type in '" + to.eContainer.metaType.name + "' (this=" + this + ")")»</a>
	«ENDIF-»</span>

	<span class="oaw php " title="36 steps in OAW 12 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 110:IF inEdges.typeSelect(model::wires::ConditionWire).size != 0)">«IF inEdges.typeSelect(model::wires::ConditionWire).size != 0»
		}
	«ENDIF»</span>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 115:DEFINE operationDomainAttributeInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainAttributeInstance attribute) FOR model::WireEdgeDestination)"><a name="operationDomainAttributeInstance.html">«DEFINE operationDomainAttributeInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainAttributeInstance attribute) FOR model::WireEdgeDestination»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unexpected domain attribute run instance wire destination: " + this)»</a>
«ENDDEFINE»</span>
<span class="oaw " title="90 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 118:DEFINE operationDomainAttributeInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainAttributeInstance attribute) FOR model::Operation)"><a name="operationDomainAttributeInstance.html">«DEFINE operationDomainAttributeInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainAttributeInstance attribute) FOR model::Operation»</a>
	/* domain attribute instance: wire = «wire», attribute = «attribute», this = «this» */
	<span class="oaw " title="6 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 120:IF name=="save")">«IF name=="save"»
		«REM»"save" operation for DomainAttribute«ENDREM»
		save_queued_store_domain_attribute('«safeNameString(attribute.id)»');
	</span><span class="oaw " title="84 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 123:ELSE)">«ELSE»
		<span class="oaw " title="24 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 124:IF isAutosaveOff(attribute))">«IF isAutosaveOff(attribute)»
			«REM»queue it up for hopefully saving it later«ENDREM»
			queue_store_domain_attribute_«safeNameString(attribute.id)»(
				<a href="#callOperationParameters.html">«EXPAND callOperationParameters(wire, inline) FOREACH wire.inEdges.typeSelect(model::wires::ParameterWire) SEPARATOR ", "»</a>
				<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 128:IF wire.inEdges.typeSelect(model::wires::ParameterWire).size &gt; 1)">«IF wire.inEdges.typeSelect(model::wires::ParameterWire).size &gt; 1»
					<a href="#exception.html">«EXPAND exception FOR throwException("Cannot have more than one incoming parameter for a DomainAttributeInstance: " + this)»</a>
				«ENDIF»</span>
			);
		</span><span class="oaw " title="60 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 132:ELSE)">«ELSE»
			«REM»set it right now«ENDREM»
			store_domain_attribute_«safeNameString(attribute.id)»(
				<a href="#callOperationParameters.html">«EXPAND callOperationParameters(wire, inline) FOREACH wire.inEdges.typeSelect(model::wires::ParameterWire) SEPARATOR ", "»</a>
				<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 136:IF wire.inEdges.typeSelect(model::wires::ParameterWire).size &gt; 1)">«IF wire.inEdges.typeSelect(model::wires::ParameterWire).size &gt; 1»
					<a href="#exception.html">«EXPAND exception FOR throwException("Cannot have more than one incoming parameter for a DomainAttributeInstance: " + this)»</a>
				«ENDIF»</span>
			);
		«ENDIF»</span>
	«ENDIF»</span> 
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 144:DEFINE operationDomainObjectInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainObjectInstance object) FOR model::WireEdgeDestination)"><a name="operationDomainObjectInstance.html">«DEFINE operationDomainObjectInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainObjectInstance object) FOR model::WireEdgeDestination»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unexpected domain attribute run instance wire destination: " + this)»</a>
«ENDDEFINE»</span>
<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 147:DEFINE operationDomainObjectInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainObjectInstance object) FOR model::Operation)"><a name="operationDomainObjectInstance.html">«DEFINE operationDomainObjectInstance(Boolean inline, model::wires::RunInstanceWire wire, model::DomainObjectInstance object) FOR model::Operation»</a>
	/* domain object instance: wire = «wire», object = «object», this = «this» */
	<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 149:IF name=="save")">«IF name=="save"»
		«REM»"save" operation for DomainAttribute«ENDREM»
		save_queued_store_domain_object('«safeNameString(object.id)»');
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 152:ELSE)">«ELSE»
		<a href="#exception.html">«EXPAND exception FOR throwException("Cannot expand a non-save operation for DomainObjectInstance: " + this)»</a>
	«ENDIF»</span> 
«ENDDEFINE»</span>

<span class="oaw " title="6 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 157:DEFINE callOperations(Boolean inline) FOR model::wires::NavigateWire-)"><a name="callOperations.html">«DEFINE callOperations(Boolean inline) FOR model::wires::NavigateWire-»</a>
	// navigating to a new page
	var url = "«safeName(to)».php";
	debug("Redirecting to '" + url + "'");
	window.location = url;
«ENDDEFINE»</span>

/* ditto: check or error? */
<span class="oaw php " title="544 steps in OAW 316 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 165:DEFINE callOperationParameters(model::WireEdge wire, Boolean inline) FOR model::wires::ParameterWire)"><a name="callOperationParameters.html">«DEFINE callOperationParameters(model::WireEdge wire, Boolean inline) FOR model::wires::ParameterWire»</a>
	<a href="#callOperationParametersSource.html">«EXPAND callOperationParametersSource(wire, inline) FOR from»</a>
«ENDDEFINE»</span>

/* ditto: check or error? */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 170:DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::WireEdgesSource)"><a name="callOperationParametersSource.html">«DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::WireEdgesSource»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unknown parameter wire source: " + this)»</a>
«ENDDEFINE»</span>

/* text fields can be a parameter source: it refers to their 'fieldValue' property */
<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 175:DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::visual::InputTextField)"><a name="callOperationParametersSource.html">«DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::visual::InputTextField»</a>
	<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 176:IF getFieldValue(this) != null)">«IF getFieldValue(this) != null»
		<a href="#callOperationParametersSource.html">«EXPAND callOperationParametersSource(wire, inline) FOR getFieldValue(this)»</a>
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 178:ELSE)">«ELSE»
		<a href="#exception.html">«EXPAND exception FOR throwException("No 'fieldValue' property found in the InputTextField '" + this + "', which is being used as a Parameter source.")»</a>
	«ENDIF»</span> 
«ENDDEFINE»</span>

/* what is the runtime value of the parameter? */
<span class="oaw php " title="499 steps in OAW 314 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 184:DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::ApplicationElementProperty)"><a name="callOperationParametersSource.html">«DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::ApplicationElementProperty»</a>
	/* wire = «wire», from = «wire.from», to = «wire.to» */
	<span class="oaw php " title="499 steps in OAW 314 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 186:IF name == "fieldValue")">«IF name == "fieldValue"»
		«REM»where is this value stored? is it available on the current page?«ENDREM»
		<span class="oaw php " title="414 steps in OAW 251 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 188:IF onCurrentPage(wire.from, this))">«IF onCurrentPage(wire.from, this)» 
			document.getElementById('«safeName(eContainer)»').value
		</span><span class="oaw php " title="85 steps in OAW 63 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 190:ELSE)">«ELSE»
			«REM»
				it's not on the current page. it could be anywhere!
				but we want it NOW, so we can't just ask the 
				server. we have to find out where it is.
			«ENDREM»			
			<a href="#remoteParameterSource.html">«EXPAND remoteParameterSource(false, wire, inline, this) FOR this.eContainer-»</a>
		«ENDIF»</span>
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 198:ELSE)">«ELSE»
		get_application_element_property("«safeName()-»")
	«ENDIF»</span>
«ENDDEFINE»</span>

<span class="oaw php " title="9 steps in OAW 2 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 203:DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::StaticValue)"><a name="callOperationParametersSource.html">«DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::StaticValue»</a>
	"«value-»" /* static value "«name-»" */
«ENDDEFINE»</span>

/* we are in JS mode. TODO document when we are switching in/out of it */
<span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 208:DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::DynamicApplicationElementSet)"><a name="callOperationParametersSource.html">«DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::DynamicApplicationElementSet»</a>
	/* dynamic element set "«name-»" */
	get_dynamic_elements_«safeName()-»()
«ENDDEFINE»</span>

/* we are in JS mode. TODO document when we are switching in/out of it */
<span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 214:DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::visual::Page)"><a name="callOperationParametersSource.html">«DEFINE callOperationParametersSource(model::WireEdge wire, Boolean inline) FOR model::visual::Page»</a>
	/* Page "«name-»" */
	new Visual_Page("«id-»", "«name-»")
«ENDDEFINE»</span>

/* a remote data source */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 220:DEFINE remoteParameterSource(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR emf::EObject)"><a name="remoteParameterSource.html">«DEFINE remoteParameterSource(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR emf::EObject»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Cannot find a remote parameter source for " + this)»</a>
«ENDDEFINE»</span>

<span class="oaw php " title="30 steps in OAW 25 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 224:DEFINE remoteParameterSource(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::visual::InputTextField)"><a name="remoteParameterSource.html">«DEFINE remoteParameterSource(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::visual::InputTextField»</a>
	«REM»
		TODO we are trying to find the remote parameter source for a field that isn't on the current page! what are we supposed to do??
	«ENDREM»
	/* throwJavascriptException("I don't know how to find the remote parameter source for a field that isn't on the current page.") */
	null
«ENDDEFINE»</span>

<span class="oaw php " title="55 steps in OAW 38 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 232:DEFINE remoteParameterSource(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::DomainAttribute)"><a name="remoteParameterSource.html">«DEFINE remoteParameterSource(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::DomainAttribute»</a>
	<span class="oaw php " title="36 steps in OAW 24 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 233:IF isPropertiesFile(getDomainStore(this)))">«IF isPropertiesFile(getDomainStore(this))»
		<a href="#remoteParameterSourceProperties.html">«EXPAND remoteParameterSourceProperties(require, wire, inline, property) FOR this»</a>
	</span><span class="oaw php " title="19 steps in OAW 14 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 235:ELSE)">«ELSE»
		<a href="#remoteParameterSourceDatabase.html">«EXPAND remoteParameterSourceDatabase(require, wire, inline, property) FOR this»</a>
	«ENDIF»</span>
«ENDDEFINE»</span>

<span class="oaw php " title="36 steps in OAW 24 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 240:DEFINE remoteParameterSourceProperties(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::DomainAttribute)"><a name="remoteParameterSourceProperties.html">«DEFINE remoteParameterSourceProperties(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::DomainAttribute»</a>
	&lt;?php 
		// remote parameter source from a .properties file
		$db_type = "FileDomainObject";
		<span class="oaw php " title="36 steps in OAW 24 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 244:IF model::DomainStore.isInstance(getDomainStore(this)))">«IF model::DomainStore.isInstance(getDomainStore(this))»
			$db_name = "«getDomainStore(this).file-»";
		</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 246:ELSEIF model::InternetApplication.isInstance(getDomainStore(this)))"></span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 246:ELSEIF model::InternetApplication.isInstance(getDomainStore(this)))">«ELSEIF model::InternetApplication.isInstance(getDomainStore(this))»
			$db_name = "internet_application.properties";
		</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 248:ELSE)">«ELSE»
			<a href="#exception.html">«EXPAND exception FOR throwException("Remote parameter source '" + getDomainStore(this) + "' was not a DomainStore or InternetApplication.")»</a>
		«ENDIF»</span>
		$row_name = "«safeNameString(this.name)-»";
		$properties = load_properties($db_name);
		$value = get_property($properties, $row_name, null);
		<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 254:IF require)">«IF require»
			// the value is required
			if ($value === null) {
				throw new IamlRuntimeException("Could not fetch row '$row_name' from properties database '$db_name': no results found");
			}
		«ENDIF»</span>
		if ($value !== null) {
			echo "\"" . htmlspecialchars($value) . "\"";
		} else {
			echo "null";	/* signifies that we shouldn't change anything */
		} 
	?&gt;
«ENDDEFINE»</span> 

<span class="oaw php " title="19 steps in OAW 14 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 268:DEFINE remoteParameterSourceDatabase(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::DomainAttribute)"><a name="remoteParameterSourceDatabase.html">«DEFINE remoteParameterSourceDatabase(boolean require, model::WireEdge wire, Boolean inline, model::ApplicationElementProperty property) FOR model::DomainAttribute»</a>
	&lt;?php 
		// remote parameter source from a database file
		$db_type = "DomainObject";
		<span class="oaw php " title="13 steps in OAW 8 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 272:IF getDomainStore(this) != null)">«IF getDomainStore(this) != null»
			$db_name = "sqlite:«safeNameString(getDomainStore(this).id)».db";
		</span><span class="oaw php " title="6 steps in OAW 6 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 274:ELSE)">«ELSE»
			/* default database, for attributes without stores */
			$db_name = "sqlite:internet_application.db";
		«ENDIF»</span>
		<span class="oaw php " title="15 steps in OAW 14 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 278:IF getDomainObject(this) != null)">«IF getDomainObject(this) != null»
			$table_name = "«safeNameString(getDomainObject(this).name)»";
		</span><span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 280:ELSE)">«ELSE»
			/* default table name, for attributes without objects */
			$table_name = "single_values";
		«ENDIF»</span>
		$row_name = "«safeNameString(this.name)»";
		
		// TODO: put this into a function
		if (!$db_name)
			throw new IamlRuntimeException("no $db_type db found");
		if (!$table_name)
			throw new IamlRuntimeException("no $db_type table found (db=$db_name)");
		if (!$row_name)
			throw new IamlRuntimeException("no $db_type row found (table=$table_name)");
		
		// connect to the database source
		$db = new PDO($db_name) or throw_new_IamlRuntimeException("could not open $db_type db '$db_name'");
		
		// does anything exist?
		$results = $db-&gt;query("SELECT $row_name FROM $table_name") or throw_new_IamlRuntimeException("could not look for existing values in $db_type '$table_name': " .print_r($db-&gt;errorInfo(), true));
		if ($row = $results-&gt;fetch()) {
			// update
			echo "\"" . htmlspecialchars($row[$row_name]) . "\"";
		} else {
			// empty
			<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 304:IF require)">«IF require»
				throw new IamlRuntimeException("Could not fetch row '$row_name' from table '$table_name' from database '$db_name': no results found");
			</span><span class="oaw " title="19 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 306:ELSE)">«ELSE»
				echo "null";	/* signifies that we shouldn't change anything */
			«ENDIF»</span>
		}		
	?&gt; 
«ENDDEFINE»</span> 

/* expand out the operations for the page */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 314:DEFINE expandOperations FOR model::ContainsOperations-)"><a name="expandOperations.html">«DEFINE expandOperations FOR model::ContainsOperations-»</a>
	<a href="#expandOperation.html">«EXPAND expandOperation FOREACH operations-»</a>
«ENDDEFINE»</span>

<span class="oaw php js " title="135 steps in OAW 31 steps in PHP 31 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 318:DEFINE expandOperations FOR model::ApplicationElementContainer-)"><a name="expandOperations.html">«DEFINE expandOperations FOR model::ApplicationElementContainer-»</a>
	// expanding operations for «this»
	<a href="#expandOperation.html">«EXPAND expandOperation FOREACH allContainerOperations()-»</a>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 323:DEFINE expandOperation FOR model::Operation-)"><a name="expandOperation.html">«DEFINE expandOperation FOR model::Operation-»</a>
	/* simple operation */
	function do_«safeName()»(<a href="#expandParameters.html">«EXPAND expandParameters FOREACH parameters SEPARATOR ", "-»</a>) {
		alert("simple operation: «name»");
	}
«ENDDEFINE»</span>

<span class="oaw php js " title="373 steps in OAW 130 steps in PHP 130 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 330:DEFINE expandOperation FOR model::CompositeOperation)"><a name="expandOperation.html">«DEFINE expandOperation FOR model::CompositeOperation»</a>
	/** composite operation "«name»" */
	var running_«safeName()» = false;
	function do_«safeName()»(<a href="#expandParameters.html">«EXPAND expandParameters FOREACH parameters SEPARATOR ", "-»</a>) {
		«REM»here we would expand out the data flow of the operation, etc«ENDREM»
		// operation: «name»
		if (running_«safeName()-» == false) {
			running_«safeName()-» = true;		// prevent loops

			// temporary variables (if any)
			<a href="#temporaryVariable.html">«EXPAND temporaryVariable FOREACH variables.typeSelect(model::TemporaryVariable)»</a>			
			
			// has this operation got a fail handler?
			<span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 343:IF getFailEdge() != null)">«IF getFailEdge() != null»
				// fail edge «getFailEdge()»
				try {
					try_catch_depth++;
			«ENDIF»</span>
			
			// execute the operation
			// if we are at the root try/catch, catch the exception explicitly
			if (try_catch_depth == 0 <span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 351:IF getFailEdge() != null)">«IF getFailEdge() != null»&amp;&amp; false /* we have a fail edge -- run the "else" block */«ENDIF»</span> ) {
				try {
					// get chained functions
					var function_queue = function() {
						// continue with any chained operations
						<a href="#continueChainedOperations.html">«EXPAND continueChainedOperations FOR this-»</a>
					}
					var function_queue_queued = false;
				
					<a href="#doExecutionFlow.html">«EXPAND doExecutionFlow FOR startNode()-»</a>
					
					// should we still run the chained functions?
					if (!function_queue_queued)
						function_queue();
				} catch (e if e instanceof IamlJavascriptException) {
					// unexpected exception
					alert("Unexpected exception: " + e);
				}
			} else {
				// get chained functions
				var function_queue = function() {
					// continue with any chained operations
					<a href="#continueChainedOperations.html">«EXPAND continueChainedOperations FOR this-»</a>
				}
				var function_queue_queued = false;
			
				<a href="#doExecutionFlow.html">«EXPAND doExecutionFlow FOR startNode()-»</a>
				
				// should we still run the chained functions?
				if (!function_queue_queued)
					function_queue();
			}					

			<span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 384:IF getFailEdge() != null)">«IF getFailEdge() != null»
					try_catch_depth--;
				} catch (e if e instanceof IamlJavascriptException) {
					debug("Caught exception " + e);
					<a href="#expandFailEdge.html">«EXPAND expandFailEdge FOR getFailEdge()»</a>
				}
			«ENDIF»</span>

			running_«safeName()-» = false;
		}
	}
«ENDDEFINE»</span>

<span class="oaw " title="1 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 397:DEFINE temporaryVariable FOR model::TemporaryVariable)"><a name="temporaryVariable.html">«DEFINE temporaryVariable FOR model::TemporaryVariable»</a>
	temp_«safeName()-» = null;	/* temporary variable '«safeNameString(name)-»' */
«ENDDEFINE»</span>

<span class="oaw php " title="329 steps in OAW 130 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 401:DEFINE expandParameters FOR model::Parameter-)"><a name="expandParameters.html">«DEFINE expandParameters FOR model::Parameter-»</a>
	«safeName()-»
«ENDDEFINE»</span>

/* I don't know how in JS we are supposed to handle multiple out edges yet... but we'll get there ;) */
<span class="oaw php js " title="746 steps in OAW 260 steps in PHP 57 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 406:DEFINE doExecutionFlow FOR model::operations::StartNode-)"><a name="doExecutionFlow.html">«DEFINE doExecutionFlow FOR model::operations::StartNode-»</a>
	// flow starts here
	<span class="oaw php js " title="694 steps in OAW 260 steps in PHP 57 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 408:FOREACH outExecutions AS e-)">«FOREACH outExecutions AS e-»
		<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
	«ENDFOREACH»</span>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 413:DEFINE doExecutionFlow FOR model::ActivityNode-)"><a name="doExecutionFlow.html">«DEFINE doExecutionFlow FOR model::ActivityNode-»</a>
	// nothing for an activity node
«ENDDEFINE»</span>

/* an edge that is the end (both StartNode and FinishNode also fall into this) */
<span class="oaw php js " title="676 steps in OAW 260 steps in PHP 57 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 418:DEFINE doExecutionFlowNext FOR model::ExecutionEdgeDestination-)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::ExecutionEdgeDestination-»</a>
	// do nothing «this-»
«ENDDEFINE»</span>

<span class="oaw " title="54 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 422:DEFINE doExecutionFlowNext FOR model::operations::CancelNode-)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::operations::CancelNode-»</a>
	<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 423:IF exceptionText.length &gt; 0)">«IF exceptionText.length &gt; 0»
		throw new IamlJavascriptException("«exceptionText»");
	«ENDIF»</span>
«ENDDEFINE»</span>

/* a chained operation (or decision operation): expandOperationContents will continue the execution flow */
<span class="oaw php js " title="696 steps in OAW 260 steps in PHP 57 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 429:DEFINE doExecutionFlowNext FOR model::ChainedOperation-)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::ChainedOperation-»</a>
	// chained operation «name-»
	<a href="#expandOperationContents.html">«EXPAND expandOperationContents FOR this-»</a>
«ENDDEFINE»</span>

/* expand the definition of an operation, assumed to be called as part of an existing function call */
<span class="oaw php " title="660 steps in OAW 260 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 435:DEFINE expandOperationContents FOR model::ChainedOperation-)"><a name="expandOperationContents.html">«DEFINE expandOperationContents FOR model::ChainedOperation-»</a>
	«REM»special operation names«ENDREM»
	<span class="oaw php js " title="656 steps in OAW 256 steps in PHP 55 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 437:IF name == "setPropertyToValue"-)">«IF name == "setPropertyToValue"-»
		«REM»outflowTarget == inflowTarget«ENDREM»
		// outFlows first to = «outFlows.first().to»
		<span class="oaw php js " title="620 steps in OAW 256 steps in PHP 55 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 440:IF isInputTextField(outFlows.first().to.eContainer))">«IF isInputTextField(outFlows.first().to.eContainer)»
			// set a variable in the current page (assumed)
			var value = <a href="#setPropertyToValueInflowTarget.html">«EXPAND setPropertyToValueInflowTarget FOR inFlows.first().from-»</a>;
			if (value !== null) {
				// ignore null parameters
				// a null parameter may occur if the remote parameter source is unavailable, or we will have a stored_event that
				// will populate this field
				<a href="#setPropertyToValueOutflowTarget.html">«EXPAND setPropertyToValueOutflowTarget FOR outFlows.first().to»</a> = value;
				
				// set server/session variables too
				<a href="src-template-template-Page-xpt.html#outgoingValue.html">«EXPAND template::Page::outgoingValue((model::ApplicationElement) outFlows.first().to.eContainer) FOR outFlows.first().to»</a>
			}
		</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 452:ELSEIF isDomainAttribute(outFlows.first().to.eContainer)-)"></span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 452:ELSEIF isDomainAttribute(outFlows.first().to.eContainer)-)">«ELSEIF isDomainAttribute(outFlows.first().to.eContainer)-»
			«REM»direct field --&gt; domain attribute«ENDREM»
			var value = <a href="#setPropertyToValueInflowTarget.html">«EXPAND setPropertyToValueInflowTarget FOR inFlows.first().from-»</a>;
			if (value !== null) {
				// ignore null parameters
				// a null parameter may occur if the remote parameter source is unavailable, or we will have a stored_event that
				// will populate this field
				store_db('«safeNameString(((model::DomainAttribute) outFlows.first().to.eContainer).id)»',
					value);

				// set server/session variables too
				<a href="src-template-template-Page-xpt.html#outgoingValue.html">«EXPAND template::Page::outgoingValue((model::ApplicationElement) outFlows.first().to.eContainer) FOR outFlows.first().to»</a>
			} 
		</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 465:ELSEIF containingSession(outFlows.first().to) == null)"></span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 465:ELSEIF containingSession(outFlows.first().to) == null)">«ELSEIF containingSession(outFlows.first().to) == null»
			«REM»contained in a Page or InternetApplication: a static value«ENDREM»
			set_application_value("«safeName(outFlows.first().to)»", 
				<a href="#setPropertyToValueInflowTarget.html">«EXPAND setPropertyToValueInflowTarget FOR inFlows.first().from-»</a>, 
				function_queue);
			function_queue_queued = true;		// we are waiting for it to return to execute the function queue
		</span><span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 471:ELSE)">«ELSE»
			«REM»contained in a Session: a session value«ENDREM»
			set_session("«safeName(containingSession(outFlows.first().to))»_«safeName(outFlows.first().to)»", 
				<a href="#setPropertyToValueInflowTarget.html">«EXPAND setPropertyToValueInflowTarget FOR inFlows.first().from-»</a>, 
				function_queue);
			function_queue_queued = true;		// we are waiting for it to return to execute the function queue
		«ENDIF»</span>

		«REM»
			in the future, we might want to make this into a function that is passed
			to ajax calls and executed once the call is successful.
		«ENDREM»
		<span class="oaw php js " title="656 steps in OAW 256 steps in PHP 55 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 483:FOREACH outExecutions AS e-)">«FOREACH outExecutions AS e-»
			<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
		«ENDFOREACH»</span>
		
		«REM»
			now we expand all the event triggers for the source element that contains the fieldValue: 
			if any of them have an eventTrigger, they should be called if necessary
		«ENDREM»
		<span class="oaw php js " title="308 steps in OAW 128 steps in PHP 16 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 491:IF shouldExpandEventTriggers(this))">«IF shouldExpandEventTriggers(this)»
			<a href="#expandEventTriggersInline.html">«EXPAND expandEventTriggersInline FOR outFlows.first().to.eContainer-»</a>
		</span><span class="oaw php js " title="348 steps in OAW 128 steps in PHP 39 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 493:ELSE)">«ELSE»
			// we don't call additional events for «eContainer» 
		«ENDIF»</span>
	</span><span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 496:ELSEIF name == "set")"></span><span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 496:ELSEIF name == "set")">«ELSEIF name == "set"»
		«REM»set a temporary variable«ENDREM»
		temp_«safeName(outFlows.first().to)» = <a href="#setPropertyToValueInflowTarget.html">«EXPAND setPropertyToValueInflowTarget FOR inFlows.first().from-»</a>;

		«REM»continue«ENDREM»
		<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 501:FOREACH outExecutions AS e-)">«FOREACH outExecutions AS e-»
			<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
		«ENDFOREACH»</span>
	</span><span class="oaw php js " title="2 steps in OAW 4 steps in PHP 2 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 504:ELSEIF name == "javascriptAlert")"></span><span class="oaw php js " title="2 steps in OAW 4 steps in PHP 2 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 504:ELSEIF name == "javascriptAlert")">«ELSEIF name == "javascriptAlert"»
		// throw an alert box
		// NOTE: alert boxes currently aren't owned by any element; they are a direct
		// hack to display something immediately. eventually, this should be replaced
		// with a generic alert(), that will render an alert box in the most appropriate
		// way for the alert container. 
		alert(<a href="#setPropertyToValueInflowTarget.html">«EXPAND setPropertyToValueInflowTarget FOR inFlows.first().from-»</a>);

		«REM»continue«ENDREM»
		<span class="oaw php js " title="2 steps in OAW 4 steps in PHP 2 steps in JS (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 513:FOREACH outExecutions AS e-)">«FOREACH outExecutions AS e-»
			<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
		«ENDFOREACH»</span>
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 516:ELSE)">«ELSE»
		«REM»an existing function on this page«ENDREM»
		<a href="#exception.html">«EXPAND exception FOR throwException("Unknown client-side function to expand '" + name + "': " + this)»</a>
	«ENDIF»</span>
«ENDDEFINE»</span>

/* expand the definition of an operation, assumed to be called as part of an existing function call */
<span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 523:DEFINE expandOperationContents FOR model::operations::DecisionOperation-)"><a name="expandOperationContents.html">«DEFINE expandOperationContents FOR model::operations::DecisionOperation-»</a>
	«REM»compare operations«ENDREM»
	if (
	<span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 526:IF name == "equal?"-)">«IF name == "equal?"-»
		«REM»check all inflow targets are identical«ENDREM»
		is_array_equal(new Array(<a href="#expandCheckInflows.html">«EXPAND expandCheckInflows FOREACH inFlows SEPARATOR ", "»</a>))
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 529:ELSE)">«ELSE»
		«REM»??? who knows«ENDREM»
		«ERROR "Unknown decision operation '" + this + "'"»
	«ENDIF»</span>
	) {
		// passed (exactly one pass)
		<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR passedExectionFlow().to»</a>
	} else {
		// failed (exactly one fail)
		<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR failedExectionFlow().to»</a>
	}
«ENDDEFINE»</span>

/* data flows out */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 543:DEFINE setPropertyToValueOutflowTarget FOR model::DataFlowEdgeDestination)"><a name="setPropertyToValueOutflowTarget.html">«DEFINE setPropertyToValueOutflowTarget FOR model::DataFlowEdgeDestination»</a>
	«ERROR "unknown data flow edge destination for setPropertyToValue: " + this»
«ENDDEFINE»</span>

<span class="oaw php " title="620 steps in OAW 256 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 547:DEFINE setPropertyToValueOutflowTarget FOR model::ApplicationElementProperty)"><a name="setPropertyToValueOutflowTarget.html">«DEFINE setPropertyToValueOutflowTarget FOR model::ApplicationElementProperty»</a>	
	document.getElementById('«safeNameString(( (model::NamedElement) eContainer).id)»').value
«ENDDEFINE»</span>

/* data flows in */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 552:DEFINE setPropertyToValueInflowTarget FOR model::DataFlowEdgesSource)"><a name="setPropertyToValueInflowTarget.html">«DEFINE setPropertyToValueInflowTarget FOR model::DataFlowEdgesSource»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unknown data flow edge source for setPropertyToValue: " + this)»</a>
«ENDDEFINE»</span>

// TODO need to wrap value in some sort of encoding algorithm
<span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 557:DEFINE setPropertyToValueInflowTarget FOR model::StaticValue)"><a name="setPropertyToValueInflowTarget.html">«DEFINE setPropertyToValueInflowTarget FOR model::StaticValue»</a>
	"«value-»" /* static value "«safeName()-»" */ 
«ENDDEFINE»</span>

<span class="oaw php " title="640 steps in OAW 260 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 561:DEFINE setPropertyToValueInflowTarget FOR model::Parameter)"><a name="setPropertyToValueInflowTarget.html">«DEFINE setPropertyToValueInflowTarget FOR model::Parameter»</a>
	«safeName()-»
«ENDDEFINE»</span>

<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 565:DEFINE setPropertyToValueInflowTarget FOR model::TemporaryVariable)"><a name="setPropertyToValueInflowTarget.html">«DEFINE setPropertyToValueInflowTarget FOR model::TemporaryVariable»</a>
	temp_«safeName()-»
«ENDDEFINE»</span>

<span class="oaw " title="72 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 569:DEFINE expandCheckInflows FOR model::DataFlowEdge-)"><a name="expandCheckInflows.html">«DEFINE expandCheckInflows FOR model::DataFlowEdge-»</a>
	<a href="#expandCheckInflowsName.html">«EXPAND expandCheckInflowsName FOR from-»</a>
«ENDDEFINE»</span>

/** get the data for the elements we are checking */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 574:DEFINE expandCheckInflowsName FOR model::DataFlowEdgesSource-)"><a name="expandCheckInflowsName.html">«DEFINE expandCheckInflowsName FOR model::DataFlowEdgesSource-»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unknown data inflow edge source: " + this)»</a>
«ENDDEFINE»</span>

<span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 578:DEFINE expandCheckInflowsName FOR model::Parameter-)"><a name="expandCheckInflowsName.html">«DEFINE expandCheckInflowsName FOR model::Parameter-»</a>
	«safeName()-»
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 582:DEFINE expandCheckInflowsName FOR model::TemporaryVariable-)"><a name="expandCheckInflowsName.html">«DEFINE expandCheckInflowsName FOR model::TemporaryVariable-»</a>
	temp_«safeName()-»
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 586:DEFINE expandCheckInflowsName FOR model::ApplicationElementProperty-)"><a name="expandCheckInflowsName.html">«DEFINE expandCheckInflowsName FOR model::ApplicationElementProperty-»</a>
	<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 587:IF containingSession(this) != null)">«IF containingSession(this) != null»
		/* a property from our session */
		require_session("«safeName(containingSession(this))»_«safeName()-»")
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 590:ELSE)">«ELSE»
		get_application_property("«safeName()-»")
	«ENDIF»</span>
«ENDDEFINE»</span>

<span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 595:DEFINE expandCheckInflowsName FOR model::StaticValue-)"><a name="expandCheckInflowsName.html">«DEFINE expandCheckInflowsName FOR model::StaticValue-»</a>
	"«value-»"
«ENDDEFINE»</span>

/** fail edges */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 600:DEFINE expandFailEdge FOR model::WireEdge-)"><a name="expandFailEdge.html">«DEFINE expandFailEdge FOR model::WireEdge-»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Cannot expand the unknown fail edge: " + this)»</a>
«ENDDEFINE»</span>

<span class="oaw " title="18 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 604:DEFINE expandFailEdge FOR model::wires::NavigateWire-)"><a name="expandFailEdge.html">«DEFINE expandFailEdge FOR model::wires::NavigateWire-»</a>
	// we need to navigate to the fail page
	var url = "«safeName(to)».php?fail=" + encodeURIComponent(e);
	debug("Redirecting to '" + url + "' (fail)");
	window.location = url;
«ENDDEFINE»</span>

/** continue operation execution */
<span class="oaw php " title="746 steps in OAW 260 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 612:DEFINE continueChainedOperations FOR model::CompositeOperation-)"><a name="continueChainedOperations.html">«DEFINE continueChainedOperations FOR model::CompositeOperation-»</a>
	<a href="#continueChainedOperations.html">«EXPAND continueChainedOperations FOREACH outEdges»</a>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 616:DEFINE continueChainedOperations FOR model::WireEdge)"><a name="continueChainedOperations.html">«DEFINE continueChainedOperations FOR model::WireEdge»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Cannot continue a chained operation for: " + this)»</a>
«ENDDEFINE»</span>

<span class="oaw " title="72 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 620:DEFINE continueChainedOperations FOR model::wires::NavigateWire)"><a name="continueChainedOperations.html">«DEFINE continueChainedOperations FOR model::wires::NavigateWire»</a>
	<span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 621:IF name != "fail")">«IF name != "fail"»
		// navigate to another page
		var url = "«safeName(to)».php";
		debug("Redirecting to '" + url + "'");
		window.location = url;
	</span><span class="oaw " title="36 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 626:ELSE)">«ELSE»
		// ignoring fail wire
	«ENDIF»</span>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\js\Operations.xpt: 631:DEFINE exception FOR Object)"><a name="exception.html">«DEFINE exception FOR Object»</a>
«ENDDEFINE»</span></pre></p>

</body>
</html>