<html><style>body,html,th,td{font-family:Arial;}.none{background:#fcc;}.oaw{background:#ffc;}.php{color:green;}pre{background:#eee;border:1px solid #666;}</style><body><h1>C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt</h1>

<a href="index.html">Summary</a><ul><li class="none">no execution</li><li class="oaw">OAW execution</li><li class="php">PHP execution</li></ul>

<p><pre>«IMPORT iaml»

«EXTENSION template::GeneratorExtensions»

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 5:DEFINE conditionWires(model::wires::RunInstanceWire wire, boolean inline, Boolean inStoreDb) FOR model::wires::ConditionWire)"><a name="conditionWires.html">«DEFINE conditionWires(model::wires::RunInstanceWire wire, boolean inline, Boolean inStoreDb) FOR model::wires::ConditionWire»</a>
	/* ConditionWire: «this-» */
	condition_«conditionName(from)»(
		<a href="src-template-php-EventTrigger-xpt.html#callOperationParameters.html">«EXPAND EventTrigger::callOperationParameters(wire, inline, inStoreDb) FOREACH inEdges.typeSelect(model::wires::ParameterWire) SEPARATOR ", "»</a>
	)
«ENDDEFINE»</span>

/* expand out the conditions for the page */
<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 13:DEFINE expandConditions FOR model::ContainsConditions)"><a name="expandConditions.html">«DEFINE expandConditions FOR model::ContainsConditions»</a>
	<a href="#expandCondition.html">«EXPAND expandCondition FOREACH getRoot().getAllConditions()»</a>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 17:DEFINE expandCondition FOR model::Condition-)"><a name="expandCondition.html">«DEFINE expandCondition FOR model::Condition-»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Cannot expand an abstract Condition: " + this)»</a>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 21:DEFINE expandCondition FOR model::operations::DecisionCondition)"><a name="expandCondition.html">«DEFINE expandCondition FOR model::operations::DecisionCondition»</a>
	«REM»
		DecisionCondition is not expanded here; it is expanded as part of the
		execution flow. (this is only called for all conditions in the InternetApplication.)
	«ENDREM»
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 28:DEFINE expandCondition FOR model::CompositeCondition)"><a name="expandCondition.html">«DEFINE expandCondition FOR model::CompositeCondition»</a>
	/** composite condition "«name»" */
	function condition_«safeName()»(<a href="#expandParameters.html">«EXPAND expandParameters FOREACH parameters SEPARATOR ", "-»</a>) {
		«REM»here we would expand out the data flow of the condition, etc«ENDREM»
				
		<a href="#doExecutionFlow.html">«EXPAND doExecutionFlow FOR startNodeCondition()-»</a>

		return false;
	}
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 39:DEFINE expandParameters FOR model::Parameter-)"><a name="expandParameters.html">«DEFINE expandParameters FOR model::Parameter-»</a>
	$«safeName()-»
«ENDDEFINE»</span>

/* I don't know how in JS we are supposed to handle multiple out edges yet... but we'll get there ;) */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 44:DEFINE doExecutionFlow FOR model::operations::StartNode-)"><a name="doExecutionFlow.html">«DEFINE doExecutionFlow FOR model::operations::StartNode-»</a>
	// flow starts here
	<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 46:FOREACH outExecutions AS e-)">«FOREACH outExecutions AS e-»
		<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
	«ENDFOREACH»</span>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 51:DEFINE doExecutionFlow FOR model::ActivityNode-)"><a name="doExecutionFlow.html">«DEFINE doExecutionFlow FOR model::ActivityNode-»</a>
	// nothing for an activity node
«ENDDEFINE»</span>

/* an edge that is the end (both StartNode and FinishNode also fall into this) */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 56:DEFINE doExecutionFlowNext FOR model::ExecutionEdgeDestination-)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::ExecutionEdgeDestination-»</a>
	// do nothing «this-»
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 60:DEFINE doExecutionFlowNext FOR model::operations::DecisionCondition)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::operations::DecisionCondition»</a>
	// DecisionCondition «this»
	<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 62:IF name=="xpathMatch")">«IF name=="xpathMatch"»
		if (!xpathMatch(<a href="#getInflows.html">«EXPAND getInflows FOREACH inFlows SEPARATOR ","»</a>)) {
			«REM»continue expanding following conditions (if any)«ENDREM»
			<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 65:FOREACH getFailEdges() AS e-)">«FOREACH getFailEdges() AS e-»
				<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
			«ENDFOREACH»</span>
		} else {
			«REM»continue expanding following conditions (if any)«ENDREM»
			<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 70:FOREACH getPassEdges() AS e-)">«FOREACH getPassEdges() AS e-»
				<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
			«ENDFOREACH»</span>
		}
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 74:ELSEIF name=="emailAddress")"></span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 74:ELSEIF name=="emailAddress")">«ELSEIF name=="emailAddress"»
		if (!emailAddressMatch(<a href="#getInflows.html">«EXPAND getInflows FOREACH inFlows SEPARATOR ","»</a>)) {
			«REM»continue expanding following conditions (if any)«ENDREM»
			<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 77:FOREACH getFailEdges() AS e-)">«FOREACH getFailEdges() AS e-»
				<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
			«ENDFOREACH»</span>
		} else {
			«REM»continue expanding following conditions (if any)«ENDREM»
			<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 82:FOREACH getPassEdges() AS e-)">«FOREACH getPassEdges() AS e-»
				<a href="#doExecutionFlowNext.html">«EXPAND doExecutionFlowNext FOR e.to-»</a>
			«ENDFOREACH»</span>
		}
	</span><span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 86:ELSE)">«ELSE»
		«REM»unknown condition«ENDREM»
		<a href="#exception.html">«EXPAND exception FOR throwException("Cannot expand DecisionCondition '" + name + "': " + this)»</a>
	«ENDIF»</span>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 92:DEFINE doExecutionFlowNext FOR model::operations::CancelNode-)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::operations::CancelNode-»</a>
	return false; /* condition failed: «exceptionText» */
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 96:DEFINE doExecutionFlowNext FOR model::operations::FinishNode-)"><a name="doExecutionFlowNext.html">«DEFINE doExecutionFlowNext FOR model::operations::FinishNode-»</a>
	return true; /* condition passed */
«ENDDEFINE»</span>

/* data flows in */
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 101:DEFINE getInflows FOR model::DataFlowEdge-)"><a name="getInflows.html">«DEFINE getInflows FOR model::DataFlowEdge-»</a>
	<a href="#inflowTarget.html">«EXPAND inflowTarget FOR from-»</a>
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 105:DEFINE inflowTarget FOR model::DataFlowEdgesSource)"><a name="inflowTarget.html">«DEFINE inflowTarget FOR model::DataFlowEdgesSource»</a>
	<a href="#exception.html">«EXPAND exception FOR throwException("Unknown data flow edge source for setPropertyToValue: " + this)»</a>
«ENDDEFINE»</span>

// TODO need to wrap value in some sort of encoding algorithm
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 110:DEFINE inflowTarget FOR model::StaticValue)"><a name="inflowTarget.html">«DEFINE inflowTarget FOR model::StaticValue»</a>
	"«value-»" /* static value "«safeName()-»" */ 
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 114:DEFINE inflowTarget FOR model::Parameter)"><a name="inflowTarget.html">«DEFINE inflowTarget FOR model::Parameter»</a>
	$«safeName()»
«ENDDEFINE»</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\Conditions.xpt: 118:DEFINE exception FOR Object)"><a name="exception.html">«DEFINE exception FOR Object»</a>
«ENDDEFINE»</span></pre></p></html>