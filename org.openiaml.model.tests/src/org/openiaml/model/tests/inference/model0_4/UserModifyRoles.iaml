<?xml version="1.0" encoding="UTF-8"?>
<iaml:InternetApplication xmlns:iaml="http://openiaml.org/model0.4" xmlns:iaml.components="http://openiaml.org/model/components" xmlns:iaml.scopes="http://openiaml.org/model/scopes" xmlns:iaml.users="http://openiaml.org/model/users" xmlns:iaml.visual="http://openiaml.org/model/visual" xmlns:iaml.wires="http://openiaml.org/model/wires" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="model.1233afe61d2.26" xmi:version="2.0">
  <scopes id="visual.1233afe628e.15" name="Home" xsi:type="iaml.visual:Frame" xmlns="http://openiaml.org/model0.4"/>
  <scopes id="visual.1233b453dc5.156" name="create a new user" xsi:type="iaml.visual:Frame" xmlns="http://openiaml.org/model0.4">
    <elements id="users.1233b53a814.a" inEdges="wires.1233b53a3ce.7" name="newly created user" outEdges="sync" xsi:type="iaml.users:UserInstance">
      <operations id="model.1233b53a1ca.14" inEdges="wires.1233b53a3ce.a" name="save" xsi:type="iaml:PrimitiveOperation"/>
    </elements>
    <children id="visual.1233b53a313.1a" name="create new user" outEdges="wires.1233b53a3ce.a" xsi:type="iaml.visual:Button">
      <wires from="visual.1233b53a313.1a" id="wires.1233b53a3ce.a" name="onClick" to="model.1233b53a1ca.14" xsi:type="iaml.wires:RunInstanceWire"/>
    </children>
    <children id="new" inEdges="sync" name="create a new user form" xsi:type="iaml.visual:InputForm"/>
    <wires from="users.1233b53a814.a" id="sync" name="sync" to="new" xsi:type="iaml.wires:SyncWire"/>
  </scopes>
  <domainStores id="users.1233afe655c.1c" name="user store" xsi:type="iaml.users:UserStore" xmlns="http://openiaml.org/model0.4">
    <children id="users.1233afe655c.23" inEdges="wires.1233afe62eb.2d" name="default role" outEdges="wires.1233b53a3ce.7" outParameterEdges="wires.1233b53a3ce.5a" xsi:type="iaml.users:Role">
      <wires from="users.1233afe655c.23" id="wires.1233b53a3ce.7" name="new instance" to="users.1233b53a814.a" xsi:type="iaml.wires:NewInstanceWire"/>
      <parameterEdges from="users.1233afe655c.23" id="wires.1233b53a3ce.5a" to="components.1233b53a67e.19" xsi:type="iaml.wires:ParameterEdge"/>
    </children>
    <children id="users.1233b53a814.62" inEdges="wires.1233b53a3ce.23a" name="additional role 1" outEdges="" outParameterEdges="wires.1233b53a3ce.a9 wires.1233b53a3ce.16a" xsi:type="iaml.users:Role">
      <parameterEdges from="users.1233b53a814.62" id="wires.1233b53a3ce.a9" to="wires.1233b53a3ce.a8" xsi:type="iaml.wires:ParameterEdge"/>
      <parameterEdges from="users.1233b53a814.62" id="wires.1233b53a3ce.16a" to="wires.1233b53a3ce.168" xsi:type="iaml.wires:ParameterEdge"/>
    </children>
    <children id="users.1233b53a814.63" name="additional role 2" outEdges="wires.1233b53a3ce.36" outParameterEdges="wires.1233b53a3ce.aa wires.1233b53a3ce.16b" xsi:type="iaml.users:Role">
      <wires from="users.1233b53a814.63" id="wires.1233b53a3ce.36" to="users.1233b53a814.70" xsi:type="iaml.wires:ProvidesWire"/>
      <parameterEdges from="users.1233b53a814.63" id="wires.1233b53a3ce.aa" to="wires.1233b53a3ce.a7" xsi:type="iaml.wires:ParameterEdge"/>
      <parameterEdges from="users.1233b53a814.63" id="wires.1233b53a3ce.16b" to="wires.1233b53a3ce.169" xsi:type="iaml.wires:ParameterEdge"/>
    </children>
    <permissions id="users.1233b53a814.6f" inEdges="wires.1233b53a3ce.453" name="permission 1" outEdges="" outParameterEdges="wires.1233b53a3ce.ab wires.1233b53a3ce.16d">
      <parameterEdges from="users.1233b53a814.6f" id="wires.1233b53a3ce.ab" to="wires.1233b53a3ce.a6" xsi:type="iaml.wires:ParameterEdge"/>
      <parameterEdges from="users.1233b53a814.6f" id="wires.1233b53a3ce.16d" to="wires.1233b53a3ce.16c" xsi:type="iaml.wires:ParameterEdge"/>
    </permissions>
    <permissions id="users.1233b53a814.70" inEdges="wires.1233b53a3ce.36 wires.1233b53a3ce.544" name="inherited permission with role"/>
  </domainStores>
  <scopes id="scopes.1233afe6368.3" name="target session" xsi:type="iaml.scopes:Session" xmlns="http://openiaml.org/model0.4">
    <elements id="components.1233afe6424.13" name="role-based access" outEdges="wires.1233afe62eb.2d" xsi:type="iaml.components:AccessControlHandler">
      <wires from="components.1233afe6424.13" id="wires.1233afe62eb.2d" to="users.1233afe655c.23" xsi:type="iaml.wires:RequiresWire"/>
    </elements>
    <scopes id="visual.1233afe628e.7e" name="target" xsi:type="iaml.visual:Frame"/>
    <scopes id="visual.1233b53a313.7d" name="add new roles" xsi:type="iaml.visual:Frame">
      <children id="visual.1233b53a313.ec" name="add role 1" outEdges="wires.1233b53a3ce.a8" xsi:type="iaml.visual:Button">
        <wires from="visual.1233b53a313.ec" id="wires.1233b53a3ce.a8" inEdges="" inParameterEdges="wires.1233b53a3ce.a9" name="onClick" to="model.1233b53a1ca.71" xsi:type="iaml.wires:RunInstanceWire"/>
      </children>
      <children id="visual.1233b53a313.ed" name="add role 2" outEdges="wires.1233b53a3ce.a7" xsi:type="iaml.visual:Button">
        <wires from="visual.1233b53a313.ed" id="wires.1233b53a3ce.a7" inEdges="" inParameterEdges="wires.1233b53a3ce.aa" name="onClick" to="model.1233b53a1ca.71" xsi:type="iaml.wires:RunInstanceWire"/>
      </children>
      <children id="visual.1233b53a313.ee" name="add permission 1" outEdges="wires.1233b53a3ce.a6" xsi:type="iaml.visual:Button">
        <wires from="visual.1233b53a313.ee" id="wires.1233b53a3ce.a6" inEdges="" inParameterEdges="wires.1233b53a3ce.ab" name="onClick" to="model.1233b53a1ca.73" xsi:type="iaml.wires:RunInstanceWire"/>
      </children>
    </scopes>
    <elements id="components.1233b53a67e.19" inEdges="" inParameterEdges="wires.1233b53a3ce.5a" name="current user" outEdges="wires.1233b53a3ce.5c" type="USER" xsi:type="iaml.components:LoginHandler">
      <wires from="components.1233b53a67e.19" id="wires.1233b53a3ce.5c" name="set" to="users.1233b53a814.d0" xsi:type="iaml.wires:SetWire"/>
    </elements>
    <elements autosave="true" id="users.1233b53a814.d0" inEdges="wires.1233b53a3ce.5c" name="logged in user" xsi:type="iaml.users:UserInstance">
      <operations id="model.1233b53a1ca.71" inEdges="wires.1233b53a3ce.a7 wires.1233b53a3ce.a8" name="add role" xsi:type="iaml:PrimitiveOperation"/>
      <operations id="model.1233b53a1ca.72" inEdges="wires.1233b53a3ce.168 wires.1233b53a3ce.169" name="remove role" xsi:type="iaml:PrimitiveOperation"/>
      <operations id="model.1233b53a1ca.73" inEdges="wires.1233b53a3ce.a6" name="add permission" xsi:type="iaml:PrimitiveOperation"/>
      <operations id="model.1233b53a1ca.74" inEdges="wires.1233b53a3ce.16c" name="remove permission" xsi:type="iaml:PrimitiveOperation"/>
    </elements>
    <scopes id="visual.1233b53a313.117" name="remove roles" xsi:type="iaml.visual:Frame">
      <children id="visual.1233b53a313.15a" name="remove all roles" outEdges="wires.1233b53a3ce.168 wires.1233b53a3ce.169" xsi:type="iaml.visual:Button">
        <wires from="visual.1233b53a313.15a" id="wires.1233b53a3ce.168" inEdges="" inParameterEdges="wires.1233b53a3ce.16a" name="onClick" to="model.1233b53a1ca.72" xsi:type="iaml.wires:RunInstanceWire"/>
        <wires from="visual.1233b53a313.15a" id="wires.1233b53a3ce.169" inEdges="" inParameterEdges="wires.1233b53a3ce.16b" name="onClick" to="model.1233b53a1ca.72" xsi:type="iaml.wires:RunInstanceWire"/>
      </children>
      <children id="visual.1233b53a313.15b" name="remove all permissions" outEdges="wires.1233b53a3ce.16c" xsi:type="iaml.visual:Button">
        <wires from="visual.1233b53a313.15b" id="wires.1233b53a3ce.16c" inEdges="" inParameterEdges="wires.1233b53a3ce.16d" name="onClick" to="model.1233b53a1ca.74" xsi:type="iaml.wires:RunInstanceWire"/>
      </children>
    </scopes>
    <scopes id="visual.1233b53a313.1ce" name="requires role 1" xsi:type="iaml.visual:Frame">
      <elements id="components.1233b53a67e.9a" name="require role 1" outEdges="wires.1233b53a3ce.23a" xsi:type="iaml.components:AccessControlHandler">
        <wires from="components.1233b53a67e.9a" id="wires.1233b53a3ce.23a" to="users.1233b53a814.62" xsi:type="iaml.wires:RequiresWire"/>
      </elements>
    </scopes>
    <scopes id="visual.1233b53a313.361" name="requires permission 1" xsi:type="iaml.visual:Frame">
      <elements id="components.1233b53a67e.110" name="requires permission 1" outEdges="wires.1233b53a3ce.453" xsi:type="iaml.components:AccessControlHandler">
        <wires from="components.1233b53a67e.110" id="wires.1233b53a3ce.453" to="users.1233b53a814.6f" xsi:type="iaml.wires:RequiresWire"/>
      </elements>
    </scopes>
    <scopes id="visual.1233b53a313.421" name="requires inherited permission" xsi:type="iaml.visual:Frame">
      <elements id="components.1233b53a67e.153" name="requires inherited permission" outEdges="wires.1233b53a3ce.544" xsi:type="iaml.components:AccessControlHandler">
        <wires from="components.1233b53a67e.153" id="wires.1233b53a3ce.544" to="users.1233b53a814.70" xsi:type="iaml.wires:RequiresWire"/>
      </elements>
    </scopes>
  </scopes>
</iaml:InternetApplication>
