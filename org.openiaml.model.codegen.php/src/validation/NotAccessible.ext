import iaml;

// initial def
Set[model::visual::Page] incomingPages(model::visual::Page this) :
	inEdges.typeSelect(model::wires::NavigateWire).select(w|w.name == "onClick")
		.from.typeSelect(model::visual::Button)
		.eContainer.typeSelect(model::visual::Page)
		
	.union(
		inEdges.typeSelect(model::wires::NavigateWire)
		.from.typeSelect(model::EventTrigger).select(e|e.name == "click")
		.eContainer.typeSelect(model::visual::Button)
		.eContainer.typeSelect(model::visual::Page)		
	);

// transitivity
Boolean connectedToHomePage(model::visual::Page this) :
	name == "Home" ||
	(!incomingPages().isEmpty && incomingPages().exists(p | connectedToHomePage(p)));
	
// definition
accessible(model::visual::Page this) :
	connectedToHomePage(this);
