<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="model"
    nsURI="http://openiaml.org/model" nsPrefix="iaml">
  <eClassifiers xsi:type="ecore:EClass" name="NamedElement" abstract="true" interface="true"
      eSuperTypes="#//GeneratedElement">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="WireEdge" eSuperTypes="#//GeneratedElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="from" lowerBound="1" eType="#//WireEdgesSource"
        eOpposite="#//WireEdgesSource/outEdges"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="to" lowerBound="1" eType="#//WireEdgeDestination"
        eOpposite="#//WireEdgeDestination/inEdges"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="WireEdgeDestination" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="inEdges" upperBound="-1"
        eType="#//WireEdge" eOpposite="#//WireEdge/to"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="WireEdgesSource" abstract="true" interface="true"
      eSuperTypes="#//ShouldntContainWires">
    <eAnnotations source="http://openiaml.org/comment">
      <details key="comment" value="temporarily contains wires until GMF bug is fixed "/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="outEdges" upperBound="-1"
        eType="#//WireEdge" eOpposite="#//WireEdge/from"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="EventTrigger" eSuperTypes="#//NamedElement #//WireEdgesSource"/>
  <eClassifiers xsi:type="ecore:EClass" name="ContainsEventTriggers" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="eventTriggers" upperBound="-1"
        eType="#//EventTrigger" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DomainObject" eSuperTypes="#//ApplicationElement #//ContainsWires">
    <eStructuralFeatures xsi:type="ecore:EReference" name="attributes" upperBound="-1"
        eType="#//DomainAttribute" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DomainAttribute" eSuperTypes="#//ApplicationElement"/>
  <eClassifiers xsi:type="ecore:EClass" name="ActivityNode" eSuperTypes="#//GeneratedElement"/>
  <eClassifiers xsi:type="ecore:EClass" name="Operation" abstract="true" eSuperTypes="#//WireEdgeDestination #//NamedElement #//DataFlowEdgeDestination #//ExecutionEdgeDestination #//ActivityNode #//DataFlowEdgesSource">
    <eStructuralFeatures xsi:type="ecore:EReference" name="parameters" upperBound="-1"
        eType="#//Parameter" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Parameter" eSuperTypes="#//NamedElement #//DataFlowEdgesSource #//DataFlowEdgeDestination"/>
  <eClassifiers xsi:type="ecore:EClass" name="SingleOperation" eSuperTypes="#//Operation"/>
  <eClassifiers xsi:type="ecore:EClass" name="ChainedOperation" eSuperTypes="#//Operation #//ExecutionEdgesSource"/>
  <eClassifiers xsi:type="ecore:EClass" name="CompositeOperation" eSuperTypes="#//ChainedOperation #//ContainsOperations #//ContainsWires">
    <eStructuralFeatures xsi:type="ecore:EReference" name="nodes" upperBound="-1"
        eType="#//ActivityNode" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="dataEdges" upperBound="-1"
        eType="#//DataFlowEdge" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="executionEdges" upperBound="-1"
        eType="#//ExecutionEdge" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="variables" upperBound="-1"
        eType="#//TemporaryVariable" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="_shouldnt_properties" upperBound="-1"
        eType="#//ApplicationElementProperty" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ContainsOperations" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="operations" upperBound="-1"
        eType="#//Operation" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ApplicationElement" eSuperTypes="#//ContainsOperations #//NamedElement #//ContainsEventTriggers #//WireEdgesSource #//WireEdgeDestination #//GeneratesElements">
    <eAnnotations source="http://openiaml.org/comment">
      <details key="editor" value="org.openiaml.model.diagram.element"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="properties" upperBound="-1"
        eType="#//ApplicationElementProperty" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="values" upperBound="-1"
        eType="#//StaticValue" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ApplicationElementContainer" abstract="true"
      eSuperTypes="#//ApplicationElement #//ContainsWires">
    <eStructuralFeatures xsi:type="ecore:EReference" name="children" upperBound="-1"
        eType="#//ApplicationElement" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ApplicationElementProperty" eSuperTypes="#//NamedElement #//WireEdgesSource #//WireEdgeDestination #//DataFlowEdgesSource #//DataFlowEdgeDestination"/>
  <eClassifiers xsi:type="ecore:EClass" name="StaticValue" eSuperTypes="#//NamedElement #//WireEdgesSource #//DataFlowEdgeDestination">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="value" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="VisibleThing" eSuperTypes="#//ApplicationElementContainer">
    <eAnnotations source="http://openiaml.org/comment">
      <details key="comment" value="this used to mean nothing; now anything that extends VisibleThing (which unforuntately needs to be concrete) has an editor"/>
      <details key="editor" value="org.openiaml.model.diagram.visual"/>
    </eAnnotations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="InternetApplication" eSuperTypes="#//ContainsOperations #//ContainsEventTriggers #//NamedElement #//ContainsWires #//GeneratesElements">
    <eAnnotations source="http://openiaml.org/comment">
      <details key="comment" value="we cannot have InternetApplications inside of other ElementContainers, thus we don't define it as an ApplicationElement"/>
      <details key="comment2" value="but why can we have it as an ActivityEdgeSource? I don't think there are any examples of InternetApplication wire --> something else; all the wires are from objects INSIDE the IA"/>
      <details key="editor" value="org.openiaml.model.diagram"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="properties" upperBound="-1"
        eType="#//ApplicationElementProperty" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="children" upperBound="-1"
        eType="#//ApplicationElement" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="domainStores" upperBound="-1"
        eType="#//DomainStore" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DomainStore" eSuperTypes="#//ContainsOperations #//ContainsEventTriggers #//NamedElement #//ContainsWires #//GeneratesElements">
    <eAnnotations source="http://openiaml.org/comment">
      <details key="comment" value="stores database objects"/>
      <details key="editor" value="org.openiaml.model.diagram.domain_store"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="children" upperBound="-1"
        eType="#//DomainObject" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="properties" upperBound="-1"
        eType="#//ApplicationElementProperty" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DataFlowEdge" eSuperTypes="#//GeneratedElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="from" lowerBound="1" eType="#//DataFlowEdgesSource"
        eOpposite="#//DataFlowEdgesSource/outFlows"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="to" lowerBound="1" eType="#//DataFlowEdgeDestination"
        eOpposite="#//DataFlowEdgeDestination/inFlows"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DataFlowEdgeDestination" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="inFlows" upperBound="-1"
        eType="#//DataFlowEdge" eOpposite="#//DataFlowEdge/to"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DataFlowEdgesSource" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="outFlows" upperBound="-1"
        eType="#//DataFlowEdge" eOpposite="#//DataFlowEdge/from"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TemporaryVariable" eSuperTypes="#//NamedElement #//DataFlowEdgesSource #//DataFlowEdgeDestination"/>
  <eClassifiers xsi:type="ecore:EClass" name="ExecutionEdge" eSuperTypes="#//GeneratedElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="from" lowerBound="1" eType="#//ExecutionEdgesSource"
        eOpposite="#//ExecutionEdgesSource/outExecutions"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="to" lowerBound="1" eType="#//ExecutionEdgeDestination"
        eOpposite="#//ExecutionEdgeDestination/inExecutions"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ExecutionEdgeDestination" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="inExecutions" upperBound="-1"
        eType="#//ExecutionEdge" eOpposite="#//ExecutionEdge/to"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ExecutionEdgesSource" abstract="true"
      interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="outExecutions" upperBound="-1"
        eType="#//ExecutionEdge" eOpposite="#//ExecutionEdge/from"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ConditionalEdge" eSuperTypes="#//ExecutionEdge #//NamedElement"/>
  <eClassifiers xsi:type="ecore:EClass" name="DynamicApplicationElementSet" eSuperTypes="#//ApplicationElement">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="query" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ContainsWires" abstract="true" interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="wires" upperBound="-1"
        eType="#//WireEdge" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ShouldntContainWires" abstract="true"
      interface="true" eSuperTypes="#//ContainsWires">
    <eAnnotations source="http://openiaml.org/comment">
      <details key="comment" value="classes that extend this SHOULDN'T contain wires, but GMF's limitations require it (see bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=249717)"/>
    </eAnnotations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="GeneratedElement" abstract="true" interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="generatedBy" eType="#//GeneratesElements"
        eOpposite="#//GeneratesElements/generatedElements"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="isGenerated" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="id" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        iD="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="GeneratesElements" abstract="true" interface="true">
    <eStructuralFeatures xsi:type="ecore:EReference" name="generatedElements" upperBound="-1"
        eType="#//GeneratedElement" eOpposite="#//GeneratedElement/generatedBy"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="overridden" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
  </eClassifiers>
  <eSubpackages name="visual" nsURI="http://openiaml.org/model/visual" nsPrefix="iaml.visual">
    <eClassifiers xsi:type="ecore:EClass" name="Page" eSuperTypes="#//VisibleThing">
      <eStructuralFeatures xsi:type="ecore:EAttribute" name="url" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="InputForm" eSuperTypes="#//VisibleThing"/>
    <eClassifiers xsi:type="ecore:EClass" name="InputTextField" eSuperTypes="#//VisibleThing"/>
  </eSubpackages>
  <eSubpackages name="wires" nsURI="http://openiaml.org/model/wires" nsPrefix="iaml.wires">
    <eClassifiers xsi:type="ecore:EClass" name="SingleWire" eSuperTypes="#//WireEdge">
      <eAnnotations source="http://openiaml.org/comment">
        <details key="comment" value="why do we have SingleWire at all? (following a design pattern?)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="CompositeWire" eSuperTypes="#//WireEdge #//NamedElement #//ContainsWires #//GeneratesElements">
      <eAnnotations source="http://openiaml.org/comment">
        <details key="comment" value="ideally this would be abstract; but we want to have a &quot;wire&quot; diagram editor, and the root element needs to be concrete. the other option is to have multiple diagram editors per concrete wire..."/>
        <details key="comment2" value="easy visualisation: all composite wires are dashed"/>
        <details key="comment3" value="only composite wires have a name now"/>
        <details key="editor" value="org.openiaml.model.diagram.wire"/>
        <details key="comment4" value="a wire shouldn't have parameters; but the operations contained within need them rendered."/>
      </eAnnotations>
      <eStructuralFeatures xsi:type="ecore:EReference" name="children" upperBound="-1"
          eType="#//ApplicationElement" containment="true"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="properties" upperBound="-1"
          eType="#//ApplicationElementProperty" containment="true"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="operations" upperBound="-1"
          eType="#//Operation" containment="true"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="eventTriggers" upperBound="-1"
          eType="#//EventTrigger" containment="true"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="parameters" upperBound="-1"
          eType="#//Parameter" containment="true"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="values" upperBound="-1"
          eType="#//StaticValue" containment="true"/>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="SyncWire" eSuperTypes="#//wires/CompositeWire"/>
    <eClassifiers xsi:type="ecore:EClass" name="RunInstanceWire" eSuperTypes="#//wires/CompositeWire #//WireEdgeDestination">
      <eAnnotations source="http://openiaml.org/comment">
        <details key="comment" value="RunWire: a composite wire that contains ExecutionWires/etc"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="ParameterWire" eSuperTypes="#//wires/SingleWire"/>
  </eSubpackages>
  <eSubpackages name="operations" nsURI="http://openiaml.org/model/operations" nsPrefix="iaml.operations">
    <eClassifiers xsi:type="ecore:EClass" name="StartNode" eSuperTypes="#//ActivityNode #//ExecutionEdgesSource"/>
    <eClassifiers xsi:type="ecore:EClass" name="StopNode" eSuperTypes="#//ActivityNode #//ExecutionEdgeDestination"/>
    <eClassifiers xsi:type="ecore:EClass" name="FinishNode" eSuperTypes="#//ActivityNode #//ExecutionEdgeDestination"/>
    <eClassifiers xsi:type="ecore:EClass" name="DecisionNode" eSuperTypes="#//ActivityNode #//ExecutionEdgesSource #//ExecutionEdgeDestination"/>
    <eClassifiers xsi:type="ecore:EClass" name="DecisionOperation" eSuperTypes="#//ChainedOperation #//DataFlowEdgeDestination"/>
  </eSubpackages>
</ecore:EPackage>
