<html><style>body,html,th,td{font-family:Arial;}.none{background:#fcc;}.oaw{background:#ffc;}.php{color:green;}pre{background:#eee;border:1px solid #666;}</style><body><h1>C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt</h1>

<a href="index.html">Summary</a><ul><li class="none">no execution</li><li class="oaw">OAW execution</li><li class="php">PHP execution</li></ul>

<p><pre>첟MPORT iaml

첚XTENSION template::GeneratorExtensions

<span class="oaw php " title="4 steps in OAW 10 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 5:DEFINE setApplicationValuePhp FOR model::InternetApplication-)"><a name="setApplicationValuePhp.html">첗EFINE setApplicationValuePhp FOR model::InternetApplication-</a>
&lt;?php
/**
 * For setting an application value.
 */
 
require("header.php");

// queue up any log messages
queue_log_messages(true);

log_message("set_application_value.php? " . print_r($_GET, true));

// expand any domain instances
<a href="src-template-template-php-DomainInstance-xpt.html#expandDomainAttributes.html">첚XPAND template::php::DomainInstance::expandDomainAttributes FOR this-</a>
<a href="src-template-template-php-DomainInstance-xpt.html#expandDomainObjects.html">첚XPAND template::php::DomainInstance::expandDomainObjects FOR this-</a>

// the property to set
$id = $_GET["id"] or throw_new_IamlRuntimeException("no id");

// the current page ID we are on
$page_id = $_GET["page"] or throw_new_IamlRuntimeException("no page id");

// the value to set the property to
$arg0 = $_GET["arg0"] or throw_new_IamlRuntimeException("no arg0");

set_application_value($id, $arg0);
log_message("set_application_value.php: setting id=$id, arg0=$arg0");

echo "ok";

/* Is there additional actions we should do on the client-side once this
 * property has changed? */
try {
	<a href="#potentialUpdatesRequired.html">첚XPAND potentialUpdatesRequired FOREACH allApplicationElementProperties(this)</a>
} catch (IamlRuntimeException $e) {
	// redirect to the exception page
	$url = "exception.php?fail=" . urlencode($e-&gt;getMessage() . " [from setApplicationValue]");
	log_message(print_r($e, true));
	log_message("[update exception handler] Redirecting to '$url' (fail)");

	log_message("redirect " 
		. escape_parameter_string($url));
	echo "\nredirect " 
		. escape_parameter_string($url);				
	die;
}

첚NDDEFINE</span>

<span class="oaw php " title="24 steps in OAW 50 steps in PHP (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 55:DEFINE potentialUpdatesRequired FOR model::ApplicationElementProperty)"><a name="potentialUpdatesRequired.html">첗EFINE potentialUpdatesRequired FOR model::ApplicationElementProperty</a>
	if ($id == "쳒afeName()-") {
		/* Property "쳌ame-" (쳃d-) */
		
		첮EM팱s this property used as the input for a SelectWire?첚NDREM
		첮EM팱s this property's parent used as the input for a SelectWire?첚NDREM
		<span class="oaw " title="8 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 61:IF eContainer.metaType.isAssignableFrom(model::visual::InputTextField))">첟F eContainer.metaType.isAssignableFrom(model::visual::InputTextField)
			<a href="#potentialContainerUpdates.html">첚XPAND potentialContainerUpdates FOR (model::visual::InputTextField) eContainer</a>
		첚NDIF</span>
	}
첚NDDEFINE</span>

<span class="oaw " title="8 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 67:DEFINE potentialContainerUpdates FOR model::visual::InputTextField)"><a name="potentialContainerUpdates.html">첗EFINE potentialContainerUpdates FOR model::visual::InputTextField</a>
	<a href="#potentialUpdates.html">첚XPAND potentialUpdates FOREACH outEdges</a>
첚NDDEFINE</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 71:DEFINE potentialUpdates FOR model::WireEdge)"><a name="potentialUpdates.html">첗EFINE potentialUpdates FOR model::WireEdge</a>
	<a href="#exception.html">첚XPAND exception FOR throwException("Unknown potential update wire edge: " + this)</a>
첚NDDEFINE</span>

<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 75:DEFINE potentialUpdates FOR model::wires::ParameterWire)"><a name="potentialUpdates.html">첗EFINE potentialUpdates FOR model::wires::ParameterWire</a>
	/* ParameterWire "쳓his-" */
	<a href="#potentialUpdatesParameter.html">첚XPAND potentialUpdatesParameter FOR to</a>
첚NDDEFINE</span>
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 79:DEFINE potentialUpdates FOR model::wires::SyncWire)"><a name="potentialUpdates.html">첗EFINE potentialUpdates FOR model::wires::SyncWire</a>
	/* SyncWire "쳓his-" */
	<a href="#potentialUpdatesParameter.html">첚XPAND potentialUpdatesParameter FOR from</a>
	<a href="#potentialUpdatesParameter.html">첚XPAND potentialUpdatesParameter FOR to</a>
첚NDDEFINE</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 85:DEFINE potentialUpdatesParameter FOR model::WireEdgesSource)"><a name="potentialUpdatesParameter.html">첗EFINE potentialUpdatesParameter FOR model::WireEdgesSource</a>
	/* ignore 쳓his */
첚NDDEFINE</span>
<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 88:DEFINE potentialUpdatesParameter FOR model::WireEdgeDestination)"><a name="potentialUpdatesParameter.html">첗EFINE potentialUpdatesParameter FOR model::WireEdgeDestination</a>
	/* ignore 쳓his */
첚NDDEFINE</span>

<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 92:DEFINE potentialUpdatesParameter FOR model::wires::SelectWire)"><a name="potentialUpdatesParameter.html">첗EFINE potentialUpdatesParameter FOR model::wires::SelectWire</a>
	/* SelectWire "쳓his-" */
	<a href="#potentialUpdateDestination.html">첚XPAND potentialUpdateDestination FOR to</a>
첚NDDEFINE</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 97:DEFINE potentialUpdateDestination FOR model::WireEdgeDestination)"><a name="potentialUpdateDestination.html">첗EFINE potentialUpdateDestination FOR model::WireEdgeDestination</a>
	<a href="#exception.html">첚XPAND exception FOR throwException("Unknown update wire edge destination: " + this)</a>
첚NDDEFINE</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 101:DEFINE potentialUpdateDestination FOR model::DomainObjectInstance)"><a name="potentialUpdateDestination.html">첗EFINE potentialUpdateDestination FOR model::DomainObjectInstance</a>
	/* DomainObjectInstance "쳓his-" */
	$object = get_object_instance_쳒afeName()(); // parameters are from server-side
	<a href="#potentialUpdateDestinationAttributes.html">첚XPAND potentialUpdateDestinationAttributes FOREACH attributes</a>
	
	<a href="#potentialUpdateDesinationWires.html">첚XPAND potentialUpdateDesinationWires FOREACH inEdges.typeSelect(model::wires::SyncWire)</a>
	<a href="#potentialUpdateDesinationWires.html">첚XPAND potentialUpdateDesinationWires FOREACH outEdges.typeSelect(model::wires::SyncWire)</a>
첚NDDEFINE</span>

<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 110:DEFINE potentialUpdateDestination FOR model::DomainAttributeInstance)"><a name="potentialUpdateDestination.html">첗EFINE potentialUpdateDestination FOR model::DomainAttributeInstance</a>
	/* DomainAttributeInstance "쳓his-" */
	$value = get_attribute_instance_쳒afeName()(); // parameters are from server-side
	<a href="#potentialUpdateDesinationWires.html">첚XPAND potentialUpdateDesinationWires FOREACH inEdges.typeSelect(model::wires::SyncWire)</a>
	<a href="#potentialUpdateDesinationWires.html">첚XPAND potentialUpdateDesinationWires FOREACH outEdges.typeSelect(model::wires::SyncWire)</a>
첚NDDEFINE</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 117:DEFINE potentialUpdateDestinationAttributes FOR model::DomainAttributeInstance)"><a name="potentialUpdateDestinationAttributes.html">첗EFINE potentialUpdateDestinationAttributes FOR model::DomainAttributeInstance</a>
	/* attribute "쳌ame" (쳓his) */
	$value = $object["쳒afeNameString(name)-"];
	<a href="#potentialUpdateDesinationWires.html">첚XPAND potentialUpdateDesinationWires FOREACH inEdges.typeSelect(model::wires::SyncWire)</a>
	<a href="#potentialUpdateDesinationWires.html">첚XPAND potentialUpdateDesinationWires FOREACH outEdges.typeSelect(model::wires::SyncWire)</a>
첚NDDEFINE</span>

<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 124:DEFINE potentialUpdateDesinationWires FOR model::wires::SyncWire)"><a name="potentialUpdateDesinationWires.html">첗EFINE potentialUpdateDesinationWires FOR model::wires::SyncWire</a>
	/* SyncWire "쳓his-" */
	<a href="#outgoingValue.html">첚XPAND outgoingValue FOR from</a>
	<a href="#outgoingValue.html">첚XPAND outgoingValue FOR to</a>
첚NDDEFINE</span>

<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 130:DEFINE outgoingValue FOR model::WireEdgesSource)"><a name="outgoingValue.html">첗EFINE outgoingValue FOR model::WireEdgesSource</a>
첚NDDEFINE</span>
<span class="oaw " title="2 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 132:DEFINE outgoingValue FOR model::WireEdgeDestination)"><a name="outgoingValue.html">첗EFINE outgoingValue FOR model::WireEdgeDestination</a>
첚NDDEFINE</span>
<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 134:DEFINE outgoingValue FOR model::visual::InputTextField)"><a name="outgoingValue.html">첗EFINE outgoingValue FOR model::visual::InputTextField</a>
	<a href="#outgoingValue.html">첚XPAND outgoingValue FOREACH properties.select(e|e.name=="fieldValue")</a>
첚NDDEFINE</span>

<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 138:DEFINE outgoingValue FOR model::ApplicationElementProperty)"><a name="outgoingValue.html">첗EFINE outgoingValue FOR model::ApplicationElementProperty</a>
	if ($page_id == "쳒afeNameString(containingPage(this).id)-") {
		/* the property "쳓his" needs to be updated on the client */
		<span class="oaw " title="4 steps in OAW (C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 141:IF eContainer.metaType.isAssignableFrom(model::visual::InputTextField))">첟F eContainer.metaType.isAssignableFrom(model::visual::InputTextField)
			log_message("outgoing value to '첿Container' (쳒afeNameString(((model::visual::InputTextField) eContainer).id)): '$value'");
			log_message("set_value " 
				. escape_parameter_string("쳒afeNameString(((model::visual::InputTextField) eContainer).id)")
				. " "
				. escape_parameter_string($value));
			echo "\nset_value " 
				. escape_parameter_string("쳒afeNameString(((model::visual::InputTextField) eContainer).id)")
				. " "
				. escape_parameter_string($value);				
		첚NDIF</span>
	}
첚NDDEFINE</span>

<span class="none" title="(C:\Documents and Settings\jmwright.MASSEY\workspace-iaml\org.openiaml.model.codegen.oaw\src\template\php\includes\SetApplicationValuePhp.xpt: 155:DEFINE exception FOR Object)"><a name="exception.html">첗EFINE exception FOR Object</a>
첚NDDEFINE</span></pre></p></html>